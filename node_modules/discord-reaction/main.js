const Discord = require('discord.js');
const ReactionRolesManager = require("discord-reaction-role");
const client = new Discord.Client();
const manager = new ReactionRolesManager(client, {
  storage: './giv.json'
})
client.manager = manager;

client.on('ready', () => {
  console.log('Coucou');
  client.user.setActivity('Test')
});

const settings = {
  prefix: 'u.',
  token: 'NjUyMzg0NzA0NjE1Njc3OTUy.Xq2a5w.vWUOsqZ_y4UqM1dvac-rf080Ieo'
};
client.on('message', async message => {
  let command = message.content
    .toLowerCase()
    .slice(settings.prefix.length)
    .split(' ')[0];
  let args = message.content.split(' ').slice(1);
  if (message.author.bot) return;
  if (!message.content.startsWith(settings.prefix) || message.author.bot) return;
  if (command === 'start') {
    try {
    client.manager.start({
      messageID: "707158750888198174",
      channel: message.channel,
      reaction: "âœ…",
      role: message.guild.roles.cache.get("675995543062839306"),
    });
    console.log(client.manager.reactionRole)
  } catch(e){
    console.log(e)
  }
  }
});

client.login(settings.token);

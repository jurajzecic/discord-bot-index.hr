const Discord = require('discord.js')

exports.starter = (message, variables={}, error_messages={}, details={}) => {
    //Variables
    const client = variables.bot;
    const channel = variables.channel;
    const hasPerm = variables.permission;
    const args = variables.arguments;
    //Error Message's
    const mention_error_message = error_messages.mention_user;
    const empty_message = error_messages.empty_reason;
    const not_bannable_messsage = error_messages.not_bannable;
    const notPerm_message = error_message.hasPerms;
    //Details
    const dm_message = details.dm_send;
    const succesfull_msg = details.succes_message
    if(!message.member.hasPermission(hasPerm)) return message.channel.send({embed:{color:0xff0000, description:notPerm_message}});
    const user = message.mentions.users.first();
    const reason = args.slice(1).join(' ');
    if(!user) return message.channel.send({
        embed:{
            color:0xff0000,
            description:mention_error_message
        }
    })
    if(!reason) return message.channel.send({
        embed:{
            color:0xff0000,
            description:empty_messsage
        }
    })
    if(!message.guild.member(user).bannable) return message.channel.send({embed:{
        color:0xff0000,
        description:not_bannable_messsage
    }})
    message.guild.member(user).ban(reason, reason);
    const f_ms = dm_message.replace("{reason}", reason)
    user.send(f_ms)
    const f_g = succesfull_msg.replace("{user}", user).replace("{reason}", reason)
    message.channel.send({embed:{
        color:0xff000,
        description:f_g
    }})
}